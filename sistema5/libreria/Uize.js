/*
	UIZE JAVASCRIPT FRAMEWORK 2012-03-24

	http://www.uize.com/reference/Uize.html
	Available under MIT License or GNU General Public License -- http://www.uize.com/license.html
*/
(function(){var _a=Uize=function(){},_b,_c='string',_d='object',_e='number',_f='boolean',_g=Function,_h=Array,_i=false,_j=true,_k=null;var _l=0,_m=[],_n='[#modulePath]',_o,_p= !!_h.forEach,_q= !!(_h.indexOf&&_h.lastIndexOf),_r={},_s={Uize:_a};function _t(_u){return(_v(_u)?_u:_u?{constructor:_b,toLocaleString:_b,toString:_b,valueOf:_b}:{});}function _w(_x,_y){var _z=_x[0];if(_A(_z)){var _B=_x[1],_C=_x.length;_A(_B)&&_y(_z,_B);if(_C>2){for(var _D=1;++_D<_C;)_A(_B=_x[_D])&&_y(_z,_B);;}}return _z;}_a.capFirstChar=function(_E){return _E.charAt(0).toUpperCase()+_E.slice(1);};var _F=_a.clone=function(_G){if(_G==_b)return _G;var _H=typeof _G;if(_H==_c||_H==_e||_H==_f||_I(_G))return _G;var _J=_G.constructor;if(_J==Date||_J==String||_J==Number||_J==Boolean){return new _J(_G.valueOf())}else if(_J==RegExp){return new RegExp(_G.source,(_G.global?'g':'')+(_G.ignoreCase?'i':'')+(_G.multiline?'m':''));};var _K=_J==Object,_L= !_K&&_M(_G);if(_K||_L){var _N,_O,_P=_K?{}:[];if(_L)_P.length=_G.length;for(var _Q in _G)_P[_Q]=
(_O=typeof(_N=_G[_Q]))==_c||_O==_e||_O==_f||_N==_b?_N:_F(_N);return _P;}return _G;};var _R=_a.constrain=function(_G,_S,_T){return(_S<_T?(_G<_S?_S:_G>_T?_T:_G):(_G<_T?_T:_G>_S?_S:_G));};_a.inRange=function(_G,_S,_T){return _G==_a.constrain(_G,_S,_T);};var _U=_a.copyInto=function(){return _w(arguments,function(_z,_B){for(var _V in _B)_z[_V]=_B[_V];});};Uize.mergeInto=function(){function _W(_z,_B){var _X,_Y;for(var _V in _B)(_Z(_Y=_B[_V])&&_Z(_X=_z[_V]))?_W(_X,_Y):(_z[_V]=_Y);}return _w(arguments,_W);};var _0=_a.forEach=function(_1,_2,_3,_4){if(_1){var _5=_M(_1);if(!_5||_1.length){if(typeof _2==_c)_2=new _g('value','key','source',_2);if(_5){if(_p&& !_4){_1.forEach(_2,_3);}else{for(var _6= -1,_7=_1.length;++_6<_7;)(_4||_6 in _1)&&_2.call(_3,_1[_6],_6,_1);}}else if(_v(_1)){for(var _6 in _1)_2.call(_3,_1[_6],_6,_1);}else if(typeof _1==_e){for(var _6= -1;++_6<_1;)_2.call(_3,_6,_6,_1);}}}};var _8=_a.map=function(_1,_9,_ba){if(typeof _1==_e){_1=new _h(_1);if(typeof _ba!=_d)_ba=_1;}if(typeof _ba!=_d)
_ba=_ba===_i?_1:_M(_1)?[]:{};if(typeof _9==_c)_9=new _g('value','key','return '+_9);_0(_1,function(_G,_bb){var _bc=_9.call(_1,_G,_bb);if(_ba)_ba[_bb]=_bc;},0,_j);return _ba;};_a.callOn=function(_ba,_bd,_be){var _bf=_bg(_bd),_bh= !_bf&&_I(_bd);_be||(_be=_m);function _bi(_ba){if(_ba!=_b)_Z(_ba)||_M(_ba)?_0(_ba,_bi,0,_j):_bh||(_bf&&_I(_ba[_bd]))?(_bh?_bd:_ba[_bd]).apply(_ba,_be):0;}if(_bf||_bh)_bi(_ba);};_a.defaultNully=function(_G,_bj){return _G!=_b?_G:_bj;};var _bk=_a.getModuleByName=function(_bl){var _bm;return(_s[_bl]||(_bl=='*'&&_s)||((_bm=(new _g('try {return '+_bl+'} catch (e) {}'))())&&(_s[_bl]=_bm)));};_a.indexIn=function(_1,_G,_bn,_bo){var _bp=_bq(_1),_P= -1;if(_bp||_v(_1)){var _br=_bp?_1:_bs(_1);if((_bo=_bo!==_i)&&_q){_P=_h[_bn?'lastIndexOf':'indexOf'](_br,_G);}else{for(var _bt=_br.length,_6=_bn?_bt: -1,_bu=_bn? -1:1;--_bt>=0;){var _bv=_br[_6+=_bu];if(_bo?_bv===_G:_bv==_G){_P=_6;break;}}}if(!_bp&&_P> -1)_P=_bw(_1)[_P];}return _P;};var _bw=_a.keys=function(_bx){var _P=[];if(!_bg(_bx))
for(var _bb in _bx)_P.push(_bb);return _P;};_a.totalKeys=function(_bx){var _P=0;if(!_bg(_bx))for(var _bb in _bx)_P++;return _P;};var _bs=_a.values=values=function(_bx){if(_M(_bx))return _bx;var _P=[];if(!_bg(_bx))for(var _bb in _bx)_P.push(_bx[_bb]);return _P;};_a.meldKeysValues=function(_bw,_bs){var _P={};for(var _by= -1,_bz=Math.min(_bw.length,_bs.length);++_by<_bz;)_P[_bw[_by]]=_bs[_by];return _P;};_a.min=function(_bx){return Math.min.apply(0,_bs(_bx));};_a.max=function(_bx){return Math.max.apply(0,_bs(_bx));};_a.reverseLookup=function(_bx,_u){var _bA=_t(_u);if(!_bg(_bx))for(var _bb in _bx)_bA[_bx[_bb]+'']=_bb;return _bA;};_a.lookup=function(_bs,_bB,_u){var _bA=_t(_u);if(arguments.length==1)_bB=_j;if(_bs!=_b){for(var _bC= -1,_bD=_bs.length;++_bC<_bD;)_bA[_bs[_bC]]=_bB;}return _bA;};var _v=_a.isObject=function(_G){return!!_G&&typeof _G==_d;};var _A=_a.canExtend=function(_G){var _H=typeof _G;return!!_G&&(_H==_d||_H=='function');};var _Z=_a.isPlainObject=function(_G){return(_G!=_b&&
(_G.constructor==Object||_G.constructor.prototype.hasOwnProperty('hasOwnProperty')));};var _M=_a.isArray=function(_G){return _G instanceof Array||(!!_G&&_I(_G.splice));};var _bq=_a.isList=function(_G){return _v(_G)&&typeof _G.length==_e;};var _I=_a.isFunction=function(_G){var _J=_G!=_b&&_G.constructor;return!!(_J&&_J==_J.constructor);};_a.isNumber=function(_G){return typeof _G==_e&&_G===_G;};var _bg=_a.isString=function(_G){return typeof _G==_c;};_a.isBoolean=function(_G){return typeof _G==_f;};_a.isNully=function(_G){return _G==_b;};var _bE=_a.isPrimitive=function(_G){if(_G==_b)return _i;var _H=typeof _G;return _H==_c||_H==_e||_H==_f;};_a.isIn=function(_1,_G,_bo){return _a.indexIn(_1,_G,_i,_bo)!== -1;};_a.isEmpty=function(_bx){if(_v(_bx)&&_v(_bx=_bx.valueOf())){if(_M(_bx))return!_bx.length;for(var _bb in _bx)return _i;return _j;}return!_bx;};_a.isNaN=function(_G){return _G!==_G;};_a.isSameAs=function(_G,_bF){return _G===_bF||(_G!==_G&&_bF!==_bF);};_a.emptyOut=function(_1){if(_v(_1)){if(_M(_1)){_1.length=0;
}else{for(var _Q in _1)delete _1[_Q];}}return _1;};var _bG=_a.recordMatches=function(_bH,_bI){if(!_bH)return!_bI;if(_I(_bI))return _bI(_bH);for(var _V in _bI){if(_bH[_V]!==_bI[_V])return _i;}return _j;};var _bJ=_a.toNumber=function(_G,_bK){if(typeof _G==_e){if(_G==_G)return _G;}else{if(_I(_G))_G=_G();if(_v(_G))_G=_G.valueOf();}return((_G=_G==_b||_G===''||_G!==_G|| !_bE(_G)?NaN: +_G)!=_G&&arguments.length>1?_bK:_G);};_a.findRecordNo=function(_bL,_bI,_bM){for(var _bN= -1,_bO=_bL?_bL.length:0;++_bN<_bO;)if(_bG(_bL[_bN],_bI))return _bN;return _R(_bJ(_bM,-1),-1,_bO-1);};_a.findRecord=function(_bL,_bI,_bM){var _bN=_a.findRecordNo(_bL,_bI,_bM);return _bN> -1?_bL[_bN]:null;};var _bP=_a.getClass=function(_bQ){return(_bQ==_b?_b:typeof _bQ=='function'?_bQ:_bQ.constructor);};_a.getGuid=function(){return'uizeGuid'+_l++;};var _bR=_a.getPathToLibrary=function(_bS,_bT){if(typeof document!='undefined'&&document.getElementsByTagName){for(var _bU= -1,_bV=document.getElementsByTagName('SCRIPT'),_bW=_bV.length,_bX,_bY;++_bU<_bW;
){if((_bY=(_bX=_bV[_bU].src).indexOf(_bS))> -1)return(_bT?_bX.replace(_bS,_bT):_bX.slice(0,_bX.lastIndexOf('/',_bY)+1));}}return'';};var _bZ=_a.globalEval=new _g('toEval','return eval (toEval)');var _b0=_a.isInstance=function(_G){return!!(typeof _G==_d&&_G&&_G.constructor.subclass);};_a.nop=new _g;_a.returnFalse=new _g('return false');_a.returnTrue=new _g('return true');_a.returnX=new _g('x','return x');_a.module=function(_b1){function _b2(_bm){_0(_r[_bm],function(_b3){_b3()});delete _r[_bm];}var _b4=_b1.name||'',_b5=_b4.substr(0,_b4.lastIndexOf('.')),_b6=_b1.superclass||_b5,_b7=_b1.required||[],_b8=[];_r[_b4]||(_r[_b4]=[]);if(_bg(_b7))_b7=_b7.split(',');_b5&&_b7.push(_b5);_b6!=_b5&&_b7.push(_b6);_0(_b7,function(_b9){_b9&& !_bk(_b9)&&_b8.push(_b9);});function _ca(){var _cb=_b1.builder,_bm=_cb&&_cb(_bk(_b6));_b4&&(new _g('m',_b4+'=m'))(_bm=_s[_b4]=_bm||function(){});if(_I(_bm)){_bm.moduleName=_b4;if(!_bm.subclass)_bm.toString=_cc;}_b2(_b4);}var _cd=_b8.length;if(_cd){var _ce=_a.moduleLoader;if(_ce){
var _cf= -1;function _cg(){_cf++;if(_cf<_cd){var _ch=_b8[_cf];_bk(_ch)?_cg():_r[_ch]?_r[_ch].push(_cg):_ce(_ch,function(_ci){if(_bk(_ch)){_cg();}else{_ci&&_bZ(_ci);if(_bk(_ch)){_b2(_ch);_cg();}else{(_r[_ch]||(_r[_ch]=[])).push(_cg);}}});}else{_ca();}}_cg();}else{_ca();}}else{_ca();}};_a.moduleLoader=function(_ch,_cj){_cj();var _ck=document.createElement('script');_ck.type='text/javascript';_ck.src=_a.moduleUrlResolver(_ch);(_o||(_o=document.getElementsByTagName('HEAD')[0])).appendChild(_ck);};_a.moduleUrlResolver=function(_bl){return _a.moduleUrlTemplate.replace(_n,_bl+'.js');};_a.pairUp=function(_cl){var _P={},_be=arguments.length==1&&_M(_cl)?_cl:arguments,_cm=_be.length;if(_cm<3){_P[_be[0]]=_be[1];}else{for(var _cn= -2;(_cn+=2)<_cm;)_P[_be[_cn]]=_be[_cn+1];}return _P;};var _co=_a.escapeRegExpLiteral=function(_cp){return _cp.replace(/([\^\$\|\{\}\[\]\(\)\?\.\*\+\\])/g,'\\$1');};_a.substituteInto=function(_1,_cq,_cr){if(!(_1=_1==_b?'':_1+'')||_cq==_b)return _1;if(_bE(_cq))_cq=[_cq];var
 _cs=(_cr||'[#KEY]').split('KEY'),_ct=[];for(var _cu in _cq)_ct.push(_co(_cu));return _1.replace(new RegExp(_co(_cs[0])+'('+_ct.join('|')+')'+_co(_cs[1]),'g'),function(_cv,_cu){return _cq[_cu]+''});};_a.noNew=function(_J){var _cw;function _cx(){if(_cw){_cw=_i;return this;}else{var _cy=this;if(_cy==_b||_cy.constructor!=_cx){_cw=_j;_cy=new _cx;}_J.apply(_cy,arguments);return _cy;}}return _cx;};_a.now=new _g('return '+(Date.now?'Date.now()':'+new Date'));var _cc=_a.toString=function(){var _cy=this,_bl=_bP(_cy).moduleName,_cz=_cy.subclass;return('['+(_b0(_cy)||(!_cz&& !_bl)?_d:_cz?'class':'package')+' '+(_bl||'Function')+']');};_a.moduleName='Uize';_a.moduleUrlTemplate=_bR('Uize.js',_n);_a.pathToResources=_bR('Uize.js');return _a;})();